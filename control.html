<!DOCTYPE html>
<html lang="en" ng-app="ceremoniesApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ceremonator</title>
    <link href="node_modules/@worldskills/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/control.css" rel="stylesheet">
</head>
<body ng-controller="ControlCtrl">

    <nav class="navbar sticky-top navbar-expand-md ws-navbar-stripe navbar-dark ws-navbar-main">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <svg width="115px" height="22px" viewBox="0 0 220 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;" class="d-inline-block align-baseline" aria-label="WorldSkills">
                    <g>
                        <path d="M52.271,39.434c-5.36,0 -8.958,-4.397 -8.958,-10.943c0,-6.546 3.598,-10.945 8.958,-10.945c5.358,0 8.959,4.399 8.959,10.945c0,6.546 -3.601,10.943 -8.959,10.943Zm0,-24.453c-9.152,0 -12.397,7.275 -12.397,13.51c0,6.233 3.245,13.509 12.397,13.509c9.151,0 12.398,-7.276 12.398,-13.509c0,-6.235 -3.247,-13.51 -12.398,-13.51Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M70.618,19.724l0,-4.232l-2.916,0l0.003,25.798l3.122,0l0,-12.745l-0.006,-0.165c0.006,-4.753 1.352,-10.434 7.767,-10.434l0.975,0.046l0.012,-0.101l0.156,-3.009l-0.363,-0.002c-4.333,0 -7.269,1.636 -8.75,4.844Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M134.06,20.521c-2.152,-0.71 -3.726,-1.121 -6.297,-1.121c-1.89,0 -4.145,0.664 -4.145,2.906c0,4.179 12.225,1.529 12.225,11.001c0,6.116 -5.614,8.562 -11.333,8.562c-2.68,0 -5.407,-0.457 -7.977,-1.119l0.419,-5.607c2.203,1.069 4.512,1.733 6.924,1.733c1.788,0 4.62,-0.664 4.62,-3.209c0,-5.146 -12.226,-1.632 -12.226,-11.107c0,-5.653 5.09,-8.153 10.599,-8.153c3.306,0 5.46,0.512 7.662,0.97l-0.471,5.144Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <rect x="166.803" y="15.051" width="7.034" height="26.239" style="fill:#fff;fill-rule:nonzero;"></rect>
                        <path d="M217.817,20.521c-2.151,-0.71 -3.725,-1.121 -6.296,-1.121c-1.892,0 -4.146,0.664 -4.146,2.906c0,4.179 12.225,1.529 12.225,11.001c0,6.116 -5.613,8.562 -11.333,8.562c-2.678,0 -5.405,-0.457 -7.977,-1.119l0.42,-5.607c2.203,1.069 4.513,1.733 6.926,1.733c1.785,0 4.619,-0.664 4.619,-3.209c0,-5.146 -12.227,-1.632 -12.227,-11.107c0,-5.653 5.09,-8.153 10.602,-8.153c3.305,0 5.454,0.512 7.659,0.97l-0.472,5.144Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M153.067,26.813l9.962,-11.762l-8.292,0l-8.394,10.497l-0.106,0l0,-24.614l-7.032,2.147l0,38.209l7.032,0l0,-12.737l0.106,0l9.027,12.737l8.919,0l-11.222,-14.477Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M101.041,39.334c-7.234,0 -8.017,-7.652 -8.017,-10.942c0,-3.292 0.783,-10.943 8.017,-10.943c5.537,0 8.017,5.495 8.017,10.943c0,5.447 -2.48,10.942 -8.017,10.942Zm11.012,-36.961l-2.995,0.917l0,15.951c-0.652,-1.091 -3.088,-4.428 -8.543,-4.362c-9.031,0.115 -10.927,7.409 -10.927,13.513c0,8.332 4.187,13.512 10.929,13.512c4.014,0 6.73,-1.48 8.541,-4.615l0,4.001l3.121,0l0,-38.956l-0.126,0.039Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M85.984,2.376l-2.997,0.912l0,38.003l3.123,0l0,-38.956l-0.126,0.041Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M178.373,3.081l0,38.209l7.031,0l0,-40.357l-7.031,2.148Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M189.455,3.081l-0.004,0l0,38.209l7.034,0l0,-40.357l-7.03,2.148Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M174.384,5.257c0,-2.165 -1.756,-3.917 -3.917,-3.917c-2.161,0 -3.915,1.752 -3.915,3.917c0,2.163 1.754,3.917 3.915,3.917c2.161,0 3.917,-1.754 3.917,-3.917Z" style="fill:#fff;fill-rule:nonzero;"></path>
                        <path d="M3.352,15.492l-3.352,0l0.042,0.128c0.16,0.487 8.402,25.375 8.48,25.603l0.022,0.067l3.856,0c0,0 7.249,-22.333 7.292,-22.468l0.239,0c0.045,0.135 7.294,22.468 7.294,22.468l3.858,0l8.753,-25.798l-3.113,0c0,0 -7.354,22.333 -7.4,22.466l-0.238,0c-0.042,-0.133 -7.082,-22.466 -7.082,-22.466l-3.857,0c0,0 -7.407,22.333 -7.453,22.466l-0.237,0c-0.042,-0.136 -7.032,-22.466 -7.032,-22.466l-0.072,0Z" style="fill:#fff;fill-rule:nonzero;"></path>
                    </g>
                </svg>
                <span class="ml-1 text-white">Ceremonies</span>
            </a>
            <a class="btn btn-white btn-sm" href="screen.html" target="_blank">
                Launch Screen
            </a>
        </div>
    </nav>

    <div class="container-fluid mt-3">

        <div class="row">
            <div class="col-sm-12" ng-repeat="(id, screen) in screens">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">{{ screen.label }}</h3>
                    </div>
                    <div class="list-group list-group-flush">
                        <a class="list-group-item" ng-class="{'list-group-item-secondary': slide.done}" ng-repeat="slide in screen.slides" ng-click="showSlide(id, slide)">
                            <div class="list-group-item-heading">{{ slide.label }}</div>
                            <div ng-show="screens[id].slide == slide">
                                <p class="list-group-item-text">
                                    <div class="btn-toolbar">
                                        <button class="btn btn-sm btn-success mr-1" ng-click="slide.edit = !slide.edit"><i class="fa fa-pencil"></i> Edit</button>
                                        <div class="btn-group mr-1" ng-show="slide.states">
                                            <button type="button" class="btn btn-sm btn-primary" ng-repeat="state in slide.states" ng-click="toggleState(id, slide, state)">
                                                <i ng-show="hasState(slide, state)" class="fa fa-ban fa-fw"></i>
                                                <i ng-show="!hasState(slide, state)" class="fa fa-trophy fa-fw"></i>
                                                {{ state }}
                                            </button>
                                        </div>
                                        <button class="btn btn-sm btn-danger" ng-show="slide.states" ng-click="resetStates(id, slide)">Reset</button>
                                    </div>
                                </p>
                                <p class="list-group-item-text" ng-show="slide.edit">
                                    <textarea class="form-control" json-text rows="9" ng-model="slide.context" ng-change="updateContext(id, slide)"></textarea>
                                </p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <hr class="hr-extended" />

        <footer>

            <div class="row">
                <div class="col-md-12">
                    <p>Â© 2022 WorldSkills International</p>
                </div>
            </div>

        </footer>

    </div>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/angular/angular.min.js"></script>
    <script src="node_modules/xlsx/dist/xlsx.full.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/control.js"></script>
</body>
</html>
